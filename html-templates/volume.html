<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>tbmpresentsvolume.co.uk</title>
  <link rel="stylesheet" href="volume.css" />
  <script src="jquery-1.7.2.min.js"></script>
	<script src="jquery.scrollTo-1.4.2-min.js"></script>
	<script src="stellar.min.js"></script>
  <script src="jquery.isotope.min.js"></script>
	<script src="buzz.js"></script>
  <script src="jquery.knob.js"></script>
	<!-- videojs.com -->
	<link href="http://vjs.zencdn.net/c/video-js.css" rel="stylesheet">
	<script src="http://vjs.zencdn.net/c/video.js"></script>

</head>
<body>
<h1 data-stellar-ratio="0.3">Volume</h1>
<h2 data-stellar-ratio="0.7">Fugazi</h2>
<div id="controls">
    <input type="text" value="75" class="dial" data-min="0" data-max="100">
</div>
<div id="container">
  <div class="item red threebyone">1</div>
  <div class="item blue">2</div>
  <div class="item green">3
	  <button id="pause-audio">pause</button>
	  <br>
	  <button id="up-audio">+</button>
	  <button id="down-audio">-</button>
  </div>
  <div class="item yellow threebyone">4</div>
  <div class="item red">5</div>
  <div class="item blue">6</div>
  <div class="item blue">7</div>
  <div class="item blue">8</div>
  <div class="item blue">9</div>
  <div class="item blue">10</div>
  <div class="item blue">11</div>
  <div class="item green fourbythree"><!-- 12 -->
		<video id="my_video_1" class="video-js vjs-default-skin" controls
		  preload="auto" width="412" height="258" poster="public/square.png"
		  data-setup="{}">
		  <source src="http://video-js.zencoder.com/oceans-clip.mp4" type='video/mp4'>
		  <source src="http://video-js.zencoder.com/oceans-clip.mp4" type='video/webm'>
		</video>
  </div>
  <div class="item yellow">13</div>
  <div class="item red">14</div>
  <div class="item blue">15</div>
  <div class="item green">16</div>
  <div class="item yellow">17</div>
  <div class="item red">18</div>
  <div class="item blue">19</div>
  <div class="item blue">20</div>
  <div class="item blue">21</div>
  <div class="item blue">22</div>
  <div class="item blue">23</div>
  <div class="item green threebyone">24</div>
  <div class="item yellow">25</div>
  <div class="item red">26</div>
  <div class="item blue">27</div>
  <div class="item green">28</div>
  <div class="item blue">29</div>
  <div class="item blue">30</div>
  <div class="item blue">31</div>
  <div class="item blue">32</div>
  <div class="item yellow">33</div>
  <div class="item blue">34</div>
  <div class="item green">35</div>
  <div class="item yellow">36</div>
  <div class="item red">37</div>
  <div class="item blue">38</div>
  <div class="item green">39</div>
  <div class="item blue">40</div>
  <div class="item blue">41</div>
  <div class="item blue">42</div>
  <div class="item blue">43</div>
  <div class="item yellow">44</div>
  <div class="item red">45</div>
  <div class="item blue">46</div>
  <div class="item green">47</div>
  <div class="item yellow">48</div>
  <div class="item red twobyone">49</div>
  <div class="item blue">50</div>
  <div class="item green">51</div>
  <div class="item yellow">52</div>
  <div class="item blue">53</div>
  <div class="item blue">54</div>
  <div class="item blue">55</div>
  <div class="item blue">56</div>
  <div class="item blue">57</div>
  <div class="item green">58</div>
  <div class="item yellow">59</div>
  <div class="item red">60</div>
  <div class="item blue">61</div>
  <div class="item green">62</div>
  <div class="item yellow">63</div>
  <div class="item red">64</div>
  <div class="item blue">65</div>
  <div class="item yellow">66</div>
  <div class="item red">67</div>
  <div class="item blue">68</div>
  <div class="item blue">69</div>
  <div class="item blue">70</div>
  <div class="item blue">71</div>
  <div class="item blue">72</div>
  <div class="item blue">73</div>
  <div class="item blue">74</div>
  <div class="item blue">75</div>
  <div class="item blue">76</div>
  <div class="item blue">77</div>
  <div class="item blue">78</div>
  <div class="item blue">79</div>
  <div class="item blue">80</div>
  <div class="item blue">81</div>
  <div class="item blue">82</div>
  <div class="item blue">83</div>
  <div class="item blue">84</div>
  <div class="item blue">85</div>
  <div class="item blue">86</div>
  <div class="item blue">87</div>
  <div class="item blue">88</div>
  <div class="item blue">89</div>
  <div class="item blue">90</div>
  <div class="item blue">91</div>
  <div class="item blue">92</div>
  <div class="item blue">93</div>
  <div class="item blue">94</div>
  <div class="item blue">95</div>
  <div class="item blue">96</div>
  <div class="item blue">97</div>
  <div class="item blue">98</div>
  <div class="item blue">99</div>
  <div class="item blue">100</div>
</div>
<script>
  // fade item visibility
  function fadeOutItems(selector) {
    $(selector).each(function() { 
        var item = $(this); 
        if (item) {
          item.fadeTo("slow", 0);
        }
    });
  }
  
  function fadeInItems(selector) {
    $(selector).each(function() { 
        var item = $(this); 
        if (item) {
          item.fadeTo("slow", 1);
        }
    });
  }

  $(document).ready(function() {
    // kick off grid
    $('#container').isotope({
      // options
      itemSelector : '.item',
      layoutMode : 'masonryHorizontal'
    });
  	// run scrolling
  	$.stellar({
  	    // Set scrolling to be in either one or both directions
  	    horizontalScrolling: true,
  	    verticalScrolling: false	
  	});
  	
  	// play audio
  	// TODO - make ogg
  	var mySound = new buzz.sound("public/sounds/koko.mp3", {
  	    preload: true,
  	    autoplay: false,
  	    loop: false
  	});

  	// audio event handlers - 	// sound.getVolume()
  	$("#pause-audio").click(function() {
  		var text = 'pause';
  		mySound.togglePlay();
  		updateAudioUI();
  	});
  	
  	$("#up-audio").click(function() {
  		mySound.increaseVolume(10);
  	});

  	$("#down-audio").click(function() {
  		mySound.decreaseVolume(10);
  	});
  	
  	function updateAudioUI() {
  		if (mySound.isPaused()) {
  			text = 'play';
  		} else {
  			text = 'pause';			
  		}
  		$('#pause-audio').html(text);
  	}
  	
  	// call initially to set correct state for play button
  	updateAudioUI();


    // set up controls
    $(".dial").knob({
      'fgColor': '#000',
      'bgColor': '#ccc',
      'width': '100',
      'change':function(v) {
        if (v < 60) {
          // TODO this should only be run if they are not already fade out
          fadeOutItems('.blue');
        }
      }
    });


	});


</script>
</body>
</html>